{"ast":null,"code":"import axios from \"axios\";\nimport { fetchAuthSession } from 'aws-amplify/auth';\n\n// const apiKey = process.env.REACT_APP_APIKEY;\nlet accessToken; // Declare a variable to store the accessToken\n\nasync function currentSession() {\n  try {\n    var _await$fetchAuthSessi;\n    const {\n      accessToken: token,\n      idToken\n    } = (_await$fetchAuthSessi = (await fetchAuthSession()).tokens) !== null && _await$fetchAuthSessi !== void 0 ? _await$fetchAuthSessi : {};\n    accessToken = token; // Set the accessToken value\n\n    console.log('accessToken', accessToken);\n    console.log('idToken', idToken);\n  } catch (err) {\n    console.log(err);\n  }\n}\nexport const axiosClient = axios.create({\n  baseURL: `https://t55gd7qb20.execute-api.us-east-1.amazonaws.com/UAT`,\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Authorization\": \"Bearer\" + accessToken // Replace \"authtoken\" with the actual auth token\n  }\n  // withCredentials: false\n});","map":{"version":3,"names":["axios","fetchAuthSession","accessToken","currentSession","_await$fetchAuthSessi","token","idToken","tokens","console","log","err","axiosClient","create","baseURL","headers"],"sources":["/Users/phyuphyuthein/Documents/Projects/MintableProjects/mintFE/src/api/apiClient.js"],"sourcesContent":["import axios from \"axios\";\nimport { fetchAuthSession } from 'aws-amplify/auth';\n\n// const apiKey = process.env.REACT_APP_APIKEY;\nlet accessToken; // Declare a variable to store the accessToken\n\nasync function currentSession() {\n  try {\n    const { accessToken: token, idToken } = (await fetchAuthSession()).tokens ?? {};\n    \n    accessToken = token; // Set the accessToken value\n    \n    console.log('accessToken', accessToken);\n    console.log('idToken', idToken);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport const axiosClient = axios.create({\n  baseURL: `https://t55gd7qb20.execute-api.us-east-1.amazonaws.com/UAT`,\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Authorization\": \"Bearer\" +  accessToken // Replace \"authtoken\" with the actual auth token\n  },\n  // withCredentials: false\n});\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,gBAAgB,QAAQ,kBAAkB;;AAEnD;AACA,IAAIC,WAAW,CAAC,CAAC;;AAEjB,eAAeC,cAAcA,CAAA,EAAG;EAC9B,IAAI;IAAA,IAAAC,qBAAA;IACF,MAAM;MAAEF,WAAW,EAAEG,KAAK;MAAEC;IAAQ,CAAC,IAAAF,qBAAA,GAAG,CAAC,MAAMH,gBAAgB,CAAC,CAAC,EAAEM,MAAM,cAAAH,qBAAA,cAAAA,qBAAA,GAAI,CAAC,CAAC;IAE/EF,WAAW,GAAGG,KAAK,CAAC,CAAC;;IAErBG,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEP,WAAW,CAAC;IACvCM,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEH,OAAO,CAAC;EACjC,CAAC,CAAC,OAAOI,GAAG,EAAE;IACZF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC;EAClB;AACF;AAEA,OAAO,MAAMC,WAAW,GAAGX,KAAK,CAACY,MAAM,CAAC;EACtCC,OAAO,EAAG,4DAA2D;EACrEC,OAAO,EAAE;IACP,cAAc,EAAE,kBAAkB;IAClC,eAAe,EAAE,QAAQ,GAAIZ,WAAW,CAAC;EAC3C;EACA;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}